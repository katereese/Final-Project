{% extends "base2.html" %}
{% block body %}

<h2>Pick your favorite genres</h2>

<div class="container">

<table ="table" style="width:100%">
   	
   	<form action="/post_genres" METHOD="POST" class="genres">
	<dl>
	<!-- iterate over dictionary items with genre as key and list of movies as value -->
	{% for genre, movies in movie_list.iteritems() %}
		<!-- each dict item has a checkbox with genre id as the value to be passed to server -->
		<!-- if genre is selected/checked print genre name -->
    	<dt><input type="checkbox" name="genres" value="{{ genre.id }}"
    		{% if genre in user.genres %}
    			checked
    		{% endif %}>
    		{{ genre.genre }}</dt>
    	<!-- for each movie in each movies list from dict value -->
    	<ul>
    	{% for movie in movies %}
		<!-- |e manually escapes out special charters displayed movie title -->
		<li><a href="/movie_prof?id={{ movie.id }}">{{ movie.title|e }}</a></li>
		{% endfor %}
		</ul>
	{% endfor %}
	</dl>

	<td><button type="submit">Submit</button></td>
	</form>

</table>


</div>

{% endblock %}